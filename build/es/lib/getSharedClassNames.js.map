{"version":3,"file":"getSharedClassNames.js","sources":["../../../src/react/lib/getSharedClassNames.ts"],"sourcesContent":["import clsx from 'clsx';\n\nimport {\n  classByPattern,\n  isValue\n} from '@appbuckets/react-ui-core';\n\nimport {\n  SharedReactBucketProps,\n  SharedFlexboxContainerProps,\n  SharedFlexboxContentProps,\n  ResponsiveProps\n} from '../generic';\n\n\nexport type SharedProps =\n  SharedReactBucketProps\n  & SharedFlexboxContentProps\n  & SharedFlexboxContainerProps\n  & { as?: any, className?: string };\n\nexport type SharedClassNamesAndProps<P> = {\n  /** Computed Class Names */\n  className: string;\n  /** Other Component Props */\n  rest: {\n    [K in keyof P]: K extends keyof SharedProps ? never : P[K]\n  }\n};\n\n\nfunction fallBackTrueValue(original: any): string | undefined {\n  if (original === true) {\n    return 'true';\n  }\n  return original;\n}\n\n/**\n * Some prop can be responsive, so can be computed\n * differently if they are primitive, or an object of value\n *\n * @param prop Prop to Compute\n * @param pattern Pattern to Use to build className\n */\nfunction computeResponsiveClassName(\n  prop: ResponsiveProps<any>,\n  pattern: string\n): string | undefined {\n  // Assert prop is a valid computable prop\n  if (prop == null || prop === false) {\n    return undefined;\n  }\n\n  // If prop is not an object, return as master class\n  if (typeof prop !== 'object') {\n    return classByPattern(fallBackTrueValue(prop), pattern);\n  }\n\n  return clsx(\n    classByPattern(fallBackTrueValue(prop.phoneUp), `on-phone-${pattern}`),\n    classByPattern(fallBackTrueValue(prop.tabletUp), `on-tablet-${pattern}`),\n    classByPattern(fallBackTrueValue(prop.desktopUp), `on-desktop-${pattern}`),\n    classByPattern(fallBackTrueValue(prop.largeDesktopUp), `on-large-desktop-${pattern}`)\n  );\n}\n\nexport default function getSharedClassNames<P extends SharedProps>(props: P): SharedClassNamesAndProps<P> {\n\n  const {\n    as,\n    backgroundColor,\n    className,\n    columnsAlign,\n    display,\n    fontWeight,\n    width,\n    offsetBy,\n    size,\n    textAlign,\n    textColor,\n    verticalAlign,\n    withoutGap,\n    ...rest\n  } = props;\n\n  // Build Classes\n  const classes = clsx(\n    // The background color\n    classByPattern(backgroundColor, 'has-background-%value%'),\n    // Main text Color\n    classByPattern(textColor, 'has-text-%value%'),\n    // Main font weight\n    classByPattern(fontWeight, 'has-font-%value%'),\n    // Content Size\n    isValue(size),\n    // Text Align\n    classByPattern(textAlign, 'has-text-%value%'),\n    // Responsive Props\n    computeResponsiveClassName(columnsAlign, '%value%'),\n    computeResponsiveClassName(display, 'is-%value%'),\n    computeResponsiveClassName(width, 'is-%value%'),\n    computeResponsiveClassName(offsetBy, 'offset-by-%value%'),\n    computeResponsiveClassName(verticalAlign, '%value%'),\n    computeResponsiveClassName(withoutGap, 'without-gap'),\n    // User defined classes\n    className\n  );\n\n  return { className: classes, rest } as SharedClassNamesAndProps<P>;\n}\n"],"names":["classByPattern","clsx","isValue"],"mappings":";;;;;;;;;;AA+BA,SAAS,iBAAiB,CAAC,QAAa;IACtC,IAAI,QAAQ,KAAK,IAAI,EAAE;QACrB,OAAO,MAAM,CAAC;KACf;IACD,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED;;;;;;;AAOA,SAAS,0BAA0B,CACjC,IAA0B,EAC1B,OAAe;;IAGf,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,EAAE;QAClC,OAAO,SAAS,CAAC;KAClB;;IAGD,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;QAC5B,OAAOA,0BAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;KACzD;IAED,OAAOC,wBAAI,CACTD,0BAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,cAAY,OAAS,CAAC,EACtEA,0BAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,eAAa,OAAS,CAAC,EACxEA,0BAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,gBAAc,OAAS,CAAC,EAC1EA,0BAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,sBAAoB,OAAS,CAAC,CACtF,CAAC;AACJ,CAAC;SAEuB,mBAAmB,CAAwB,KAAQ;IAGvE,IAAA,EAAE,GAcA,KAAK,GAdL,EACF,eAAe,GAab,KAAK,gBAbQ,EACf,SAAS,GAYP,KAAK,UAZE,EACT,YAAY,GAWV,KAAK,aAXK,EACZ,OAAO,GAUL,KAAK,QAVA,EACP,UAAU,GASR,KAAK,WATG,EACV,KAAK,GAQH,KAAK,MARF,EACL,QAAQ,GAON,KAAK,SAPC,EACR,IAAI,GAMF,KAAK,KANH,EACJ,SAAS,GAKP,KAAK,UALE,EACT,SAAS,GAIP,KAAK,UAJE,EACT,aAAa,GAGX,KAAK,cAHM,EACb,UAAU,GAER,KAAK,WAFG,EACP,IAAI,iBACL,KAAK,EAfH,qKAeL,CADQ,CACC;;IAGV,IAAM,OAAO,GAAGC,wBAAI;;IAElBD,0BAAc,CAAC,eAAe,EAAE,wBAAwB,CAAC;;IAEzDA,0BAAc,CAAC,SAAS,EAAE,kBAAkB,CAAC;;IAE7CA,0BAAc,CAAC,UAAU,EAAE,kBAAkB,CAAC;;IAE9CE,mBAAO,CAAC,IAAI,CAAC;;IAEbF,0BAAc,CAAC,SAAS,EAAE,kBAAkB,CAAC;;IAE7C,0BAA0B,CAAC,YAAY,EAAE,SAAS,CAAC,EACnD,0BAA0B,CAAC,OAAO,EAAE,YAAY,CAAC,EACjD,0BAA0B,CAAC,KAAK,EAAE,YAAY,CAAC,EAC/C,0BAA0B,CAAC,QAAQ,EAAE,mBAAmB,CAAC,EACzD,0BAA0B,CAAC,aAAa,EAAE,SAAS,CAAC,EACpD,0BAA0B,CAAC,UAAU,EAAE,aAAa,CAAC;;IAErD,SAAS,CACV,CAAC;IAEF,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,MAAA,EAAiC,CAAC;AACrE;;;;"}