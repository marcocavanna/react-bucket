{"version":3,"file":"mimeTypeToIcon.js","sources":["../../../../../src/react/modules/Dropzone/lib/mimeTypeToIcon.ts"],"sourcesContent":["import { FontAwesomeIcon } from '../../../generic';\n\n\n/** Build a Fast Cache Object to avoid multiple match */\nconst cache: Record<string, FontAwesomeIcon> = {};\n\n/** Set the fallback icon */\nconst fallback: FontAwesomeIcon = 'file alt';\n\n/** Build a Mapping Array */\nconst mapping: [ FontAwesomeIcon, (string | RegExp)[] ][] = [\n\n  /** Image Files */\n  [ 'file image', [ /^image\\// ] ],\n\n  /** Audio Files */\n  [ 'file audio', [ /^audio\\// ] ],\n\n  /** Video Files */\n  [ 'file video', [ /^video\\// ] ],\n\n  /** Documents Files */\n  [ 'file pdf', [ 'application/pdf' ] ],\n  [ 'file alt', [ 'text/plain' ] ],\n  [\n    'file code',\n    [\n      'text/html',\n      'text/javascript',\n      'text/css',\n      /application\\/(ld\\+)?json$/,\n      /application\\/(x-)?sh$/\n    ]\n  ],\n\n  /** Archive */\n  [\n    'file archive',\n    [\n      /^application\\/x-(g?tar|xz|compress|bzip2?|g?zip)$/,\n      /^application\\/x-(7z|rar|zip)-compressed$/,\n      /^application\\/(zip|gzip|tar)$/\n    ]\n  ],\n\n  /** Word */\n  [\n    'file word',\n    [\n      /ms-?word/,\n      'application/vnd.oasis.opendocument.text',\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n    ]\n  ],\n\n  /** PowerPoint */\n  [\n    'file powerpoint',\n    [\n      /ms-?powerpoint/,\n      'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n      'application/vnd.oasis.opendocument.presentation'\n    ]\n  ],\n\n  /** Excel */\n  [\n    'file excel',\n    [\n      /ms-?excel/,\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n      'application/vnd.oasis.opendocument.spreadsheet'\n    ]\n  ]\n\n];\n\n\nconst match = (mimeType: string, conditions: (string | RegExp)[]): boolean => {\n  return conditions.reduce<boolean>((hasMatch, condition) => {\n    /** If a match has been found, stop search */\n    if (hasMatch) {\n      return true;\n    }\n\n    /** Test RexExp */\n    if (condition instanceof RegExp) {\n      return condition.test(mimeType);\n    }\n\n    /** Return strict equality */\n    return condition === mimeType;\n\n  }, false);\n};\n\n\nexport default function mimeTypeToIcon(mimeType: string): FontAwesomeIcon {\n  /** Check if exists in cache */\n  if (cache[mimeType]) {\n    return cache[mimeType];\n  }\n\n  /** Apply a for cycle */\n  for (let i = 0; i < mapping.length; i++) {\n    if (match(mimeType, mapping[i][1])) {\n      // eslint-disable-next-line prefer-destructuring\n      cache[mimeType] = mapping[i][0];\n      return mapping[i][0];\n    }\n  }\n\n  /** Return the fallback icon */\n  return fallback;\n}\n"],"names":[],"mappings":";;AAGA;AACA,IAAM,KAAK,GAAoC,EAAE,CAAC;AAElD;AACA,IAAM,QAAQ,GAAoB,UAAU,CAAC;AAE7C;AACA,IAAM,OAAO,GAA+C;;IAG1D,CAAE,YAAY,EAAE,CAAE,UAAU,CAAE,CAAE;;IAGhC,CAAE,YAAY,EAAE,CAAE,UAAU,CAAE,CAAE;;IAGhC,CAAE,YAAY,EAAE,CAAE,UAAU,CAAE,CAAE;;IAGhC,CAAE,UAAU,EAAE,CAAE,iBAAiB,CAAE,CAAE;IACrC,CAAE,UAAU,EAAE,CAAE,YAAY,CAAE,CAAE;IAChC;QACE,WAAW;QACX;YACE,WAAW;YACX,iBAAiB;YACjB,UAAU;YACV,2BAA2B;YAC3B,uBAAuB;SACxB;KACF;;IAGD;QACE,cAAc;QACd;YACE,mDAAmD;YACnD,0CAA0C;YAC1C,+BAA+B;SAChC;KACF;;IAGD;QACE,WAAW;QACX;YACE,UAAU;YACV,yCAAyC;YACzC,yEAAyE;SAC1E;KACF;;IAGD;QACE,iBAAiB;QACjB;YACE,gBAAgB;YAChB,2EAA2E;YAC3E,iDAAiD;SAClD;KACF;;IAGD;QACE,YAAY;QACZ;YACE,WAAW;YACX,mEAAmE;YACnE,gDAAgD;SACjD;KACF;CAEF,CAAC;AAGF,IAAM,KAAK,GAAG,UAAC,QAAgB,EAAE,UAA+B;IAC9D,OAAO,UAAU,CAAC,MAAM,CAAU,UAAC,QAAQ,EAAE,SAAS;;QAEpD,IAAI,QAAQ,EAAE;YACZ,OAAO,IAAI,CAAC;SACb;;QAGD,IAAI,SAAS,YAAY,MAAM,EAAE;YAC/B,OAAO,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACjC;;QAGD,OAAO,SAAS,KAAK,QAAQ,CAAC;KAE/B,EAAE,KAAK,CAAC,CAAC;AACZ,CAAC,CAAC;SAGsB,cAAc,CAAC,QAAgB;;IAErD,IAAI,KAAK,CAAC,QAAQ,CAAC,EAAE;QACnB,OAAO,KAAK,CAAC,QAAQ,CAAC,CAAC;KACxB;;IAGD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACvC,IAAI,KAAK,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;;YAElC,KAAK,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChC,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACtB;KACF;;IAGD,OAAO,QAAQ,CAAC;AAClB;;;;"}