{"version":3,"file":"BackdropInner.js","sources":["../../../../src/react/modules/Backdrop/BackdropInner.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  childrenUtils,\n  doesNodeContainClick,\n  classByPattern,\n  Ref\n} from '@appbuckets/react-ui-core';\n\nimport {\n  useElementType\n} from '../../lib';\n\nimport { BackdropInnerProps } from './BackdropInner.types';\n\n\n/* --------\n * Component Declare\n * -------- */\ntype BackdropInnerComponent = React.FunctionComponent<BackdropInnerProps>;\n\n/* --------\n * Component Render\n * -------- */\nconst BackdropInner: BackdropInnerComponent = (props) => {\n\n  const {\n    animated,\n    content,\n    children,\n    className,\n    onClick,\n    onClickOutside,\n    verticalAlign,\n    visible,\n    ...rest\n  } = props;\n\n\n  // ----\n  // Define internal Ref to Switch classes and Style\n  // ----\n  const containerRef = React.useRef<HTMLElement>(null);\n  const contentRef = React.useRef<HTMLDivElement>(null);\n\n  /** Get the render element type */\n  const ElementType = useElementType(BackdropInner, props);\n\n\n  // ----\n  // Build Component Handlers\n  // ----\n  const handleClick = (e: React.MouseEvent<HTMLElement>) => {\n    /** Call onClick Handler */\n    if (onClick) {\n      onClick(e, props);\n    }\n    /** Check if click is inside the content, if is it, return */\n    if (contentRef.current && (contentRef.current !== e.target && doesNodeContainClick(contentRef.current, e))) {\n      return;\n    }\n    /** Call onClickOutside Prop */\n    if (onClickOutside) {\n      onClickOutside(e, props);\n    }\n  };\n\n\n  // ----\n  // Animate the Backdrop Enter, if is necessary\n  // ----\n  React.useEffect(\n    () => {\n      /** Exit if no need to animate container visibility */\n      if (!animated) {\n        return;\n      }\n\n      /** Add/Remove the visible classes */\n      setTimeout(() => {\n        if (containerRef.current && visible) {\n          containerRef.current.classList.add('visible');\n        }\n\n        if (contentRef.current && visible) {\n          contentRef.current.classList.add('visible');\n        }\n      });\n    },\n    [ animated, visible ]\n  );\n\n  // ----\n  // Build Element Classes\n  // ----\n  const classes = clsx(\n    { visible: !animated && visible, animated },\n    classByPattern(verticalAlign, 'content-%value%'),\n    'backdrop',\n    className\n  );\n\n  const contentClasses = clsx(\n    { visible: !animated && visible, animated },\n    'content'\n  );\n\n\n  // ----\n  // Compute the Inner Content\n  // ----\n  const innerContent = childrenUtils.isNil(children) ? content : children;\n\n\n  // ----\n  // Render the Content\n  // ----\n  return (\n    <Ref innerRef={containerRef}>\n      <ElementType {...rest} className={classes} onClick={handleClick}>\n        {innerContent && (\n          <div ref={contentRef} className={contentClasses}>\n            {innerContent}\n          </div>\n        )}\n      </ElementType>\n    </Ref>\n  );\n};\n\n/** Properly set the Display Name */\nBackdropInner.displayName = 'BackdropInner';\n\nexport default BackdropInner;\n"],"names":["React.useRef","useElementType","doesNodeContainClick","React.useEffect","clsx","classByPattern","childrenUtils","React.createElement","Ref"],"mappings":";;;;;;;;;;;;;AAsBA;;;IAGM,aAAa,GAA2B,UAAC,KAAK;IAGhD,IAAA,QAAQ,GASN,KAAK,SATC,EACR,OAAO,GAQL,KAAK,QARA,EACP,QAAQ,GAON,KAAK,SAPC,EACR,SAAS,GAMP,KAAK,UANE,EACT,OAAO,GAKL,KAAK,QALA,EACP,cAAc,GAIZ,KAAK,eAJO,EACd,aAAa,GAGX,KAAK,cAHM,EACb,OAAO,GAEL,KAAK,QAFA,EACJ,IAAI,iBACL,KAAK,EAVH,yGAUL,CADQ,CACC;;;;IAMV,IAAM,YAAY,GAAGA,YAAY,CAAc,IAAI,CAAC,CAAC;IACrD,IAAM,UAAU,GAAGA,YAAY,CAAiB,IAAI,CAAC,CAAC;;IAGtD,IAAM,WAAW,GAAGC,yBAAc,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;;;;IAMzD,IAAM,WAAW,GAAG,UAAC,CAAgC;;QAEnD,IAAI,OAAO,EAAE;YACX,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;SACnB;;QAED,IAAI,UAAU,CAAC,OAAO,KAAK,UAAU,CAAC,OAAO,KAAK,CAAC,CAAC,MAAM,IAAIC,gCAAoB,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,EAAE;YAC1G,OAAO;SACR;;QAED,IAAI,cAAc,EAAE;YAClB,cAAc,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;SAC1B;KACF,CAAC;;;;IAMFC,eAAe,CACb;;QAEE,IAAI,CAAC,QAAQ,EAAE;YACb,OAAO;SACR;;QAGD,UAAU,CAAC;YACT,IAAI,YAAY,CAAC,OAAO,IAAI,OAAO,EAAE;gBACnC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;aAC/C;YAED,IAAI,UAAU,CAAC,OAAO,IAAI,OAAO,EAAE;gBACjC,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;aAC7C;SACF,CAAC,CAAC;KACJ,EACD,CAAE,QAAQ,EAAE,OAAO,CAAE,CACtB,CAAC;;;;IAKF,IAAM,OAAO,GAAGC,wBAAI,CAClB,EAAE,OAAO,EAAE,CAAC,QAAQ,IAAI,OAAO,EAAE,QAAQ,UAAA,EAAE,EAC3CC,0BAAc,CAAC,aAAa,EAAE,iBAAiB,CAAC,EAChD,UAAU,EACV,SAAS,CACV,CAAC;IAEF,IAAM,cAAc,GAAGD,wBAAI,CACzB,EAAE,OAAO,EAAE,CAAC,QAAQ,IAAI,OAAO,EAAE,QAAQ,UAAA,EAAE,EAC3C,SAAS,CACV,CAAC;;;;IAMF,IAAM,YAAY,GAAGE,yBAAa,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,OAAO,GAAG,QAAQ,CAAC;;;;IAMxE,QACEC,oBAACC,eAAG,IAAC,QAAQ,EAAE,YAAY;QACzBD,oBAAC,WAAW,sBAAK,IAAI,IAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,KAC5D,YAAY,KACXA,6BAAK,GAAG,EAAE,UAAU,EAAE,SAAS,EAAE,cAAc,IAC5C,YAAY,CACT,CACP,CACW,CACV,EACN;AACJ,EAAE;AAEF;AACA,aAAa,CAAC,WAAW,GAAG,eAAe;;;;"}