{"version":3,"file":"Toast.js","sources":["../../../../src/react/elements/Toast/Toast.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  childrenUtils\n} from '@appbuckets/react-ui-core';\n\nimport {\n  useElementType,\n  useSharedClassName,\n  useSplitStateClassName\n} from '../../lib';\n\nimport { Header } from '../Header';\nimport { Icon } from '../Icon';\n\nimport { ToastProps } from './Toast.types';\n\n\n/* --------\n * Component Declare\n * -------- */\ntype ToastComponent = React.FunctionComponent<ToastProps>;\n\n\n/* --------\n * Component Render\n * -------- */\nconst Toast: ToastComponent = (props) => {\n\n  const {\n    className,\n    rest: {\n      children,\n      content,\n      dismiss,\n      dismissible,\n      header,\n      icon,\n      onClick,\n      ...rawRest\n    }\n  } = useSharedClassName(props);\n\n  /** get the Element Type */\n  const ElementType = useElementType(Toast, props);\n\n  /** Split state className from rest props */\n  const [ stateClassName, rest ] = useSplitStateClassName(rawRest);\n\n  /** Build classname */\n  const classes = clsx(\n    'toast',\n    typeof onClick === 'function' && 'clickable',\n    stateClassName,\n    className\n  );\n\n  /** Build Handlers */\n  const handleClick = (e: React.MouseEvent<HTMLElement>) => {\n    if (typeof onClick === 'function') {\n      onClick(e, props);\n    }\n  };\n\n  const handleDismiss = React.useCallback(\n    (e: React.MouseEvent<HTMLElement>) => {\n      /** Stop the Main Propagation of event */\n      e.stopPropagation();\n\n      if (typeof dismiss === 'function') {\n        dismiss();\n      }\n    },\n    [ dismiss ]\n  );\n\n\n  /* --------\n   * Build the Toast Content using Shorthand\n   * -------- */\n  const toastContent = React.useMemo(\n    () => Header.create({\n      content  : header,\n      subheader: content,\n      icon\n    }, { autoGenerateKey: false }),\n    [ header, content, icon ]\n  );\n\n  const dismissIcon = React.useMemo(\n    () => dismissible && (typeof dismissible === 'boolean'\n      ? Icon.create({ name: 'times', onClick: handleDismiss }, {\n        autoGenerateKey: false,\n        defaultProps   : {\n          className: 'dismiss'\n        },\n        overrideProps  : {\n          onClick: handleDismiss\n        }\n      })\n      : Icon.create(dismissible, {\n        autoGenerateKey: false,\n        defaultProps   : {\n          className: 'dismiss'\n        },\n        overrideProps  : {\n          onClick: handleDismiss\n        }\n      })),\n    [ dismissible, handleDismiss ]\n  );\n\n\n  /* --------\n   * If element has children, render them\n   * -------- */\n  if (!childrenUtils.isNil(children)) {\n    return (\n      <ElementType {...rest} className={classes} onClick={handleClick}>\n        {typeof children === 'function' ? children({ dismiss: handleDismiss }) : children}\n      </ElementType>\n    );\n  }\n\n\n  /* --------\n   * Render the Component\n   * -------- */\n  return (\n    <ElementType {...rest} className={classes} onClick={handleClick}>\n      {toastContent}\n      {dismissIcon}\n    </ElementType>\n  );\n};\n\nToast.displayName = 'Toast';\n\nexport default Toast;\n"],"names":["useSharedClassName","useElementType","useSplitStateClassName","clsx","React.useCallback","React.useMemo","childrenUtils","React.createElement"],"mappings":";;;;;;;;;;;;;;;AAyBA;;;IAGM,KAAK,GAAmB,UAAC,KAAK;IAElC,IAAM,KAYFA,6BAAkB,CAAC,KAAK,CAAC,EAX3B,SAAS,eAAA,EACT,YASC,EARC,QAAQ,cAAA,EACR,OAAO,aAAA,EACP,OAAO,aAAA,EACP,WAAW,iBAAA,EACX,MAAM,YAAA,EACN,IAAI,UAAA,EACJ,OAAO,aAAA,EACJ,OAAO,qBARN,8EASL,CAC0B,CAAC;;IAG9B,IAAM,WAAW,GAAGC,yBAAc,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;IAG3C,IAAA,KAA2BC,iCAAsB,CAAC,OAAO,CAAC,EAAxD,cAAc,QAAA,EAAE,IAAI,QAAoC,CAAC;;IAGjE,IAAM,OAAO,GAAGC,wBAAI,CAClB,OAAO,EACP,OAAO,OAAO,KAAK,UAAU,IAAI,WAAW,EAC5C,cAAc,EACd,SAAS,CACV,CAAC;;IAGF,IAAM,WAAW,GAAG,UAAC,CAAgC;QACnD,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;YACjC,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;SACnB;KACF,CAAC;IAEF,IAAM,aAAa,GAAGC,iBAAiB,CACrC,UAAC,CAAgC;;QAE/B,CAAC,CAAC,eAAe,EAAE,CAAC;QAEpB,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;YACjC,OAAO,EAAE,CAAC;SACX;KACF,EACD,CAAE,OAAO,CAAE,CACZ,CAAC;;;;IAMF,IAAM,YAAY,GAAGC,aAAa,CAChC,cAAM,OAAA,MAAM,CAAC,MAAM,CAAC;QAClB,OAAO,EAAI,MAAM;QACjB,SAAS,EAAE,OAAO;QAClB,IAAI,MAAA;KACL,EAAE,EAAE,eAAe,EAAE,KAAK,EAAE,CAAC,GAAA,EAC9B,CAAE,MAAM,EAAE,OAAO,EAAE,IAAI,CAAE,CAC1B,CAAC;IAEF,IAAM,WAAW,GAAGA,aAAa,CAC/B,cAAM,OAAA,WAAW,KAAK,OAAO,WAAW,KAAK,SAAS;UAClD,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,aAAa,EAAE,EAAE;YACvD,eAAe,EAAE,KAAK;YACtB,YAAY,EAAK;gBACf,SAAS,EAAE,SAAS;aACrB;YACD,aAAa,EAAI;gBACf,OAAO,EAAE,aAAa;aACvB;SACF,CAAC;UACA,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;YACzB,eAAe,EAAE,KAAK;YACtB,YAAY,EAAK;gBACf,SAAS,EAAE,SAAS;aACrB;YACD,aAAa,EAAI;gBACf,OAAO,EAAE,aAAa;aACvB;SACF,CAAC,CAAC,GAAA,EACL,CAAE,WAAW,EAAE,aAAa,CAAE,CAC/B,CAAC;;;;IAMF,IAAI,CAACC,yBAAa,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;QAClC,QACEC,oBAAC,WAAW,sBAAK,IAAI,IAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,KAC5D,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC,GAAG,QAAQ,CACrE,EACd;KACH;;;;IAMD,QACEA,oBAAC,WAAW,sBAAK,IAAI,IAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW;QAC5D,YAAY;QACZ,WAAW,CACA,EACd;AACJ,EAAE;AAEF,KAAK,CAAC,WAAW,GAAG,OAAO;;;;"}