{"version":3,"file":"Header.js","sources":["../../../../src/react/elements/Header/Header.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  childrenUtils,\n  createShorthandFactory,\n  getElementType\n} from '@appbuckets/react-ui-core';\n\nimport { CreatableFunctionComponent } from '../../generic';\n\nimport { getSharedClassNames } from '../../lib';\nimport Button from '../Button/Button';\n\nimport { Icon } from '../Icon';\n\nimport HeaderContent from './HeaderContent';\nimport HeaderSubheader from './HeaderSubheader';\n\nimport { HeaderProps } from './Header.types';\n\n\n/* --------\n * Component Declare\n * -------- */\ntype HeaderComponent = CreatableFunctionComponent<HeaderProps> & {\n  Content: typeof HeaderContent;\n  Subheader: typeof HeaderSubheader;\n};\n\n\n/* --------\n * Component Render\n * -------- */\nconst Header: HeaderComponent = (props) => {\n\n  const {\n    className,\n    rest: {\n      actions,\n      children,\n      content,\n      disabled,\n      divided,\n      subheader,\n      icon,\n      ...rest\n    }\n  } = getSharedClassNames(props);\n\n  const ElementType = getElementType(Header, props);\n\n  const classes = clsx(\n    {\n      disabled,\n      divided,\n      'with-icon'   : icon,\n      'with-actions': Array.isArray(actions)\n    },\n    'header',\n    className\n  );\n\n  const hasChildren = !childrenUtils.isNil(children);\n\n  const contentElement = React.useMemo(\n    () => !hasChildren && HeaderContent.create(content, { autoGenerateKey: false }),\n    [ hasChildren, content ]\n  );\n\n  const subheaderElement = React.useMemo(\n    () => !hasChildren && HeaderSubheader.create(subheader, { autoGenerateKey: false }),\n    [ hasChildren, subheader ]\n  );\n\n  const iconElement = React.useMemo(\n    () => Icon.create(icon, { autoGenerateKey: false }),\n    [ icon ]\n  );\n\n  const actionsElement = React.useMemo(\n    () => {\n      if (!Array.isArray(actions)) {\n        return null;\n      }\n\n      return (\n        <div className={'header-actions'}>\n          {actions.map((action) => Button.create(action, {\n            autoGenerateKey: true,\n            defaultProps   : {\n              className: 'action'\n            }\n          }))}\n        </div>\n      );\n    },\n    [ actions ]\n  );\n\n  return (\n    <ElementType {...rest} className={classes}>\n      {iconElement && (\n        <div className={'header-icon'}>\n          {iconElement}\n        </div>\n      )}\n      <div className={'header-content'}>\n        {hasChildren ? children : (\n          <React.Fragment>\n            {contentElement}\n            {subheaderElement}\n          </React.Fragment>\n        )}\n      </div>\n      {actionsElement}\n    </ElementType>\n  );\n};\n\nHeader.Content = HeaderContent;\nHeader.Subheader = HeaderSubheader;\n\nHeader.displayName = 'Header';\n\nHeader.create = createShorthandFactory(Header, content => ({ content }));\n\nexport default Header;\n"],"names":["getElementType","clsx","childrenUtils","React.useMemo","React.createElement","React.Fragment","createShorthandFactory"],"mappings":";;;;;;;;;;;;;;;;;AA+BA;;;IAGM,MAAM,GAAoB,UAAC,KAAK;IAEpC,IAAM,KAYF,mBAAmB,CAAC,KAAK,CAAC,EAX5B,SAAS,eAAA,EACT,YASC,EARC,OAAO,aAAA,EACP,QAAQ,cAAA,EACR,OAAO,aAAA,EACP,QAAQ,cAAA,EACR,OAAO,aAAA,EACP,SAAS,eAAA,EACT,IAAI,UAAA,EACD,IAAI,qBARH,8EASL,CAC2B,CAAC;IAE/B,IAAM,WAAW,GAAGA,0BAAc,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAElD,IAAM,OAAO,GAAGC,wBAAI,CAClB;QACE,QAAQ,UAAA;QACR,OAAO,SAAA;QACP,WAAW,EAAK,IAAI;QACpB,cAAc,EAAE,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC;KACvC,EACD,QAAQ,EACR,SAAS,CACV,CAAC;IAEF,IAAM,WAAW,GAAG,CAACC,yBAAa,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAEnD,IAAM,cAAc,GAAGC,aAAa,CAClC,cAAM,OAAA,CAAC,WAAW,IAAI,aAAa,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,eAAe,EAAE,KAAK,EAAE,CAAC,GAAA,EAC/E,CAAE,WAAW,EAAE,OAAO,CAAE,CACzB,CAAC;IAEF,IAAM,gBAAgB,GAAGA,aAAa,CACpC,cAAM,OAAA,CAAC,WAAW,IAAI,eAAe,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,eAAe,EAAE,KAAK,EAAE,CAAC,GAAA,EACnF,CAAE,WAAW,EAAE,SAAS,CAAE,CAC3B,CAAC;IAEF,IAAM,WAAW,GAAGA,aAAa,CAC/B,cAAM,OAAA,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,eAAe,EAAE,KAAK,EAAE,CAAC,GAAA,EACnD,CAAE,IAAI,CAAE,CACT,CAAC;IAEF,IAAM,cAAc,GAAGA,aAAa,CAClC;QACE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC;SACb;QAED,QACEC,6BAAK,SAAS,EAAE,gBAAgB,IAC7B,OAAO,CAAC,GAAG,CAAC,UAAC,MAAM,IAAK,OAAA,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE;YAC7C,eAAe,EAAE,IAAI;YACrB,YAAY,EAAK;gBACf,SAAS,EAAE,QAAQ;aACpB;SACF,CAAC,GAAA,CAAC,CACC,EACN;KACH,EACD,CAAE,OAAO,CAAE,CACZ,CAAC;IAEF,QACEA,oBAAC,WAAW,sBAAK,IAAI,IAAE,SAAS,EAAE,OAAO;QACtC,WAAW,KACVA,6BAAK,SAAS,EAAE,aAAa,IAC1B,WAAW,CACR,CACP;QACDA,6BAAK,SAAS,EAAE,gBAAgB,IAC7B,WAAW,GAAG,QAAQ,IACrBA,oBAACC,cAAc;YACZ,cAAc;YACd,gBAAgB,CACF,CAClB,CACG;QACL,cAAc,CACH,EACd;AACJ,EAAE;AAEF,MAAM,CAAC,OAAO,GAAG,aAAa,CAAC;AAC/B,MAAM,CAAC,SAAS,GAAG,eAAe,CAAC;AAEnC,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC;AAE9B,MAAM,CAAC,MAAM,GAAGC,kCAAsB,CAAC,MAAM,EAAE,UAAA,OAAO,IAAI,QAAC,EAAE,OAAO,SAAA,EAAE,IAAC,CAAC;;;;"}