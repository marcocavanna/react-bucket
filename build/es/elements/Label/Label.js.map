{"version":3,"file":"Label.js","sources":["../../../../src/react/elements/Label/Label.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  childrenUtils,\n  createShorthandFactory\n} from '@appbuckets/react-ui-core';\n\nimport { CreatableFunctionComponent } from '../../generic';\n\nimport {\n  useElementType,\n  useSharedClassName,\n  useSplitStateClassName\n} from '../../lib';\n\nimport { Button } from '../Button';\nimport { Icon } from '../Icon';\n\nimport { LabelProps } from './Label.types';\n\nimport LabelGroup from './LabelGroup';\n\n\n/* --------\n * Component Declare\n * -------- */\ntype LabelComponent = CreatableFunctionComponent<LabelProps> & {\n  Group: typeof LabelGroup\n};\n\n/* --------\n * Component Render\n * -------- */\nconst Label: LabelComponent = (props) => {\n\n  const {\n    className,\n    rest: {\n      children,\n      content,\n      disabled,\n      icon,\n      onClick,\n      onRemove,\n      removable,\n      ...rawRest\n    }\n  } = useSharedClassName(props);\n\n  /** Get the component element type */\n  const ElementType = useElementType(Label, props);\n\n  /** Split state className from rest props */\n  const [ stateClasses, rest ] = useSplitStateClassName(rawRest);\n\n  /** Build the element class list */\n  const classes = clsx(\n    onClick && 'clickable',\n    { removable, disabled },\n    'label',\n    stateClasses,\n    className\n  );\n\n  /** Use an Hook to define the click handler */\n  const handleClick = (e: React.MouseEvent<HTMLElement>) => {\n    if (onClick) {\n      onClick(e, props);\n    }\n  };\n\n  /** Compute the Icon Element */\n  const iconElement = React.useMemo(\n    () => (Icon.create(icon, {\n      autoGenerateKey: false\n    })),\n    [ icon ]\n  );\n\n  /** Compute the Remove Button */\n  const removeButton = React.useMemo(\n    () => {\n      if (!removable) {\n        return null;\n      }\n\n      const handleLabelRemove = (e: React.MouseEvent<HTMLButtonElement>) => {\n        if (!disabled && onRemove) {\n          onRemove(e, props);\n        }\n      };\n\n      return Button.create(typeof removable === 'boolean'\n        ? { icon: 'times' }\n        : removable, {\n        autoGenerateKey: false,\n        defaultProps   : { className: 'remove', icon: 'times' },\n        overrideProps  : {\n          disabled,\n          flat   : true,\n          onClick: handleLabelRemove\n        }\n      });\n    },\n    [ removable, disabled, onRemove, props ]\n  );\n\n  /** Render the Component */\n  return (\n    <ElementType {...rest} className={classes} onClick={handleClick}>\n      <span className={'content'}>\n        {iconElement}\n        <span>\n          {childrenUtils.isNil(children) ? content : children}\n        </span>\n        {removeButton}\n      </span>\n    </ElementType>\n  );\n};\n\nLabel.displayName = 'Label';\n\nLabel.Group = LabelGroup;\n\nLabel.create = createShorthandFactory(Label, (content) => ({ content }));\n\nexport default Label;\n"],"names":["useSharedClassName","useElementType","useSplitStateClassName","clsx","React.useMemo","React.createElement","childrenUtils","createShorthandFactory"],"mappings":";;;;;;;;;;;;;;;;;AA+BA;;;IAGM,KAAK,GAAmB,UAAC,KAAK;IAElC,IAAM,KAYFA,6BAAkB,CAAC,KAAK,CAAC,EAX3B,SAAS,eAAA,EACT,YASC,EARC,QAAQ,cAAA,EACR,OAAO,aAAA,EACP,QAAQ,cAAA,EACR,IAAI,UAAA,EACJ,OAAO,aAAA,EACP,QAAQ,cAAA,EACR,SAAS,eAAA,EACN,OAAO,qBARN,+EASL,CAC0B,CAAC;;IAG9B,IAAM,WAAW,GAAGC,yBAAc,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;IAG3C,IAAA,KAAyBC,iCAAsB,CAAC,OAAO,CAAC,EAAtD,YAAY,QAAA,EAAE,IAAI,QAAoC,CAAC;;IAG/D,IAAM,OAAO,GAAGC,wBAAI,CAClB,OAAO,IAAI,WAAW,EACtB,EAAE,SAAS,WAAA,EAAE,QAAQ,UAAA,EAAE,EACvB,OAAO,EACP,YAAY,EACZ,SAAS,CACV,CAAC;;IAGF,IAAM,WAAW,GAAG,UAAC,CAAgC;QACnD,IAAI,OAAO,EAAE;YACX,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;SACnB;KACF,CAAC;;IAGF,IAAM,WAAW,GAAGC,aAAa,CAC/B,cAAM,QAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;QACvB,eAAe,EAAE,KAAK;KACvB,CAAC,IAAC,EACH,CAAE,IAAI,CAAE,CACT,CAAC;;IAGF,IAAM,YAAY,GAAGA,aAAa,CAChC;QACE,IAAI,CAAC,SAAS,EAAE;YACd,OAAO,IAAI,CAAC;SACb;QAED,IAAM,iBAAiB,GAAG,UAAC,CAAsC;YAC/D,IAAI,CAAC,QAAQ,IAAI,QAAQ,EAAE;gBACzB,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;aACpB;SACF,CAAC;QAEF,OAAO,MAAM,CAAC,MAAM,CAAC,OAAO,SAAS,KAAK,SAAS;cAC/C,EAAE,IAAI,EAAE,OAAO,EAAE;cACjB,SAAS,EAAE;YACb,eAAe,EAAE,KAAK;YACtB,YAAY,EAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE;YACvD,aAAa,EAAI;gBACf,QAAQ,UAAA;gBACR,IAAI,EAAK,IAAI;gBACb,OAAO,EAAE,iBAAiB;aAC3B;SACF,CAAC,CAAC;KACJ,EACD,CAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,CAAE,CACzC,CAAC;;IAGF,QACEC,oBAAC,WAAW,sBAAK,IAAI,IAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW;QAC7DA,8BAAM,SAAS,EAAE,SAAS;YACvB,WAAW;YACZA,kCACGC,yBAAa,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,OAAO,GAAG,QAAQ,CAC9C;YACN,YAAY,CACR,CACK,EACd;AACJ,EAAE;AAEF,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC;AAE5B,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC;AAEzB,KAAK,CAAC,MAAM,GAAGC,kCAAsB,CAAC,KAAK,EAAE,UAAC,OAAO,IAAK,QAAC,EAAE,OAAO,SAAA,EAAE,IAAC,CAAC;;;;"}