{"version":3,"file":"LinearProgress.js","sources":["../../../../src/react/elements/Progress/LinearProgress.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  childrenUtils,\n  createShorthandFactory\n} from '@appbuckets/react-ui-core';\n\nimport { CreatableFunctionComponent } from '../../generic';\n\nimport {\n  useElementType\n} from '../../lib';\n\nimport { LinearProgressProps } from './LinearProgress.types';\n\nimport useProgressProps from './lib/useProgressProps';\nimport useProgressIndicator from './lib/useProgressIndicator';\n\n\n/* --------\n * Component Declare\n * -------- */\ntype LinearProgressComponent = CreatableFunctionComponent<LinearProgressProps>;\n\n\n/* --------\n * Component Render\n * -------- */\nconst LinearProgress: LinearProgressComponent = (props) => {\n\n  const {\n    className,\n    progress,\n    rest: {\n      as,\n      children,\n      content,\n      indicator,\n      limits,\n      reverse,\n      ...rest\n    }\n  } = useProgressProps(props);\n\n  const ElementType = useElementType(LinearProgress, props);\n\n\n  // ----\n  // Build Indicator Element\n  // ----\n  const indicatorElement = useProgressIndicator(indicator, progress);\n\n  // ----\n  // Build Limits Element\n  // ----\n  const downLimit = limits && (typeof limits === 'function' ? limits(progress.min) : progress.min);\n  const upLimit = limits && (typeof limits === 'function'\n    ? limits(progress.overvalued ? progress.value : progress.max)\n    : progress.overvalued ? progress.value : progress.max);\n  const overValueLimit = progress.overvalued && limits && (\n    typeof limits === 'function'\n      ? limits(progress.max)\n      : progress.max\n  );\n\n  const limitsElement = React.useMemo(\n    () => {\n      if (!limits) {\n        return null;\n      }\n\n      return (\n        <div className={'limits'}>\n          <div\n            className={'value'}\n            style={{\n              width: `${progress.overvalued ? progress.width : 100}%`\n            }}\n          >\n            <div className={'down'}>{downLimit}</div>\n            <div className={'up'}>{upLimit}</div>\n          </div>\n          {overValueLimit && (\n            <div className={'overvalue'}>\n              {overValueLimit}\n            </div>\n          )}\n        </div>\n      );\n    },\n    [ limits, progress.overvalued, progress.width, downLimit, upLimit, overValueLimit ]\n  );\n\n  const classes = clsx(\n    className,\n    {\n      reverse,\n      'with-limits'   : limitsElement,\n      'with-indicator': indicatorElement\n    },\n    'linear'\n  );\n\n  const contentElement = childrenUtils.isNil(children) ? content : children;\n\n  return (\n    <ElementType {...rest} className={classes}>\n      {limitsElement}\n      <div className={'bar'}>\n        <div className={'value'} style={{ width: `${progress.width}%` }}>\n          {indicatorElement}\n        </div>\n      </div>\n      {contentElement && (\n        <div className={'content'}>\n          {contentElement}\n        </div>\n      )}\n    </ElementType>\n  );\n};\n\nLinearProgress.displayName = 'LinearProgress';\n\nLinearProgress.defaultProps = {\n  max: 100,\n  min: 0\n};\n\nLinearProgress.create = createShorthandFactory(LinearProgress, (value) => ({ value: value as number }));\n\nexport default LinearProgress;\n"],"names":["useElementType","React.useMemo","React.createElement","clsx","childrenUtils","createShorthandFactory"],"mappings":"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"}