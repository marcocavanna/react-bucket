{"version":3,"file":"CircularProgress.js","sources":["../../../../src/react/elements/Progress/CircularProgress.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  createShorthandFactory\n} from '@appbuckets/react-ui-core';\nimport { CreatableFunctionComponent } from '../../generic';\n\nimport { useElementType } from '../../lib';\n\nimport { CircularProgressProps } from './CircularProgress.types';\n\nimport useProgressProps from './lib/useProgressProps';\nimport useProgressIndicator from './lib/useProgressIndicator';\n\n\n/* --------\n * Component Declare\n * -------- */\ntype CircularProgressComponent = CreatableFunctionComponent<CircularProgressProps>;\n\n/* --------\n * Component Render\n * -------- */\nconst CircularProgress: CircularProgressComponent = (props) => {\n\n  const {\n    className,\n    progress,\n    rest: {\n      as,\n      indicator,\n      radius,\n      strokeWidth,\n      style: userDefinedStyle,\n      ...rest\n    }\n  } = useProgressProps(props);\n\n  const ElementType = useElementType(CircularProgress, props);\n\n  const classes = clsx(\n    className,\n    'circular'\n  );\n\n\n  /** Build the Indicator Element */\n  const indicatorElement = useProgressIndicator(indicator, progress);\n\n\n  // ----\n  // Circle Build Value\n  // ----\n  const circle = React.useMemo<{ radius: number, stroke: number }>(\n    () => {\n\n      const startingStrokeWidth = indicatorElement ? strokeWidth - 2 : strokeWidth;\n      const startingRadius = indicatorElement ? radius + 1 : radius;\n\n      switch (props.size) {\n        case 'extra small':\n          return { radius: startingRadius / 3, stroke: startingStrokeWidth / 2 };\n\n        case 'small':\n          return { radius: startingRadius / 1.75, stroke: startingStrokeWidth / 1.5 };\n\n        case 'large':\n          return { radius: startingRadius * 1.75, stroke: startingStrokeWidth * 1.5 };\n\n        case 'big':\n          return { radius: startingRadius * 3, stroke: startingStrokeWidth * 2.5 };\n\n        case 'huge':\n          return { radius: startingRadius * 4.5, stroke: startingStrokeWidth * 4 };\n\n        default:\n          return { radius: startingRadius, stroke: startingStrokeWidth };\n      }\n    },\n    [ indicatorElement, strokeWidth, radius, props.size ]\n  );\n\n  const size = Math.ceil((circle.radius * 2) + circle.stroke);\n\n  const viewBox = [ 0, 0, size, size ].join(' ');\n  const dashArray = circle.radius * Math.PI * 2;\n  const dashOffset = dashArray - ((dashArray * progress.width) / 100);\n\n\n  return (\n    <ElementType\n      {...rest}\n      className={classes}\n      style={{\n        ...userDefinedStyle,\n        height: `${size}px`,\n        width : `${size}px`\n      }}\n    >\n      <svg\n        width={size}\n        height={size}\n        viewBox={viewBox}\n      >\n        <circle\n          className={'bar'}\n          cx={size / 2}\n          cy={size / 2}\n          r={circle.radius}\n          strokeWidth={`${circle.stroke}px`}\n        />\n        <circle\n          className={'value'}\n          cx={size / 2}\n          cy={size / 2}\n          r={circle.radius}\n          strokeWidth={`${circle.stroke}px`}\n          transform={`rotate(-90 ${size / 2} ${size / 2})`}\n          style={{\n            strokeDasharray : dashArray,\n            strokeDashoffset: dashOffset\n          }}\n        />\n      </svg>\n      {indicatorElement}\n    </ElementType>\n  );\n\n};\n\nCircularProgress.displayName = 'CircularProgress';\n\nCircularProgress.defaultProps = {\n  max        : 100,\n  min        : 0,\n  radius     : 16,\n  strokeWidth: 10\n};\n\nCircularProgress.create = createShorthandFactory(CircularProgress, (value) => ({ value: value as number }));\n\nexport default CircularProgress;\n"],"names":["useElementType","clsx","React.useMemo","React.createElement","createShorthandFactory"],"mappings":"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"}