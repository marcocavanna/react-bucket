{"version":3,"file":"ItemContent.js","sources":["../../../../src/react/elements/Item/ItemContent.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  createShorthandFactory,\n  childrenUtils\n} from '@appbuckets/react-ui-core';\n\nimport { CreatableFunctionComponent } from '../../generic';\n\nimport {\n  useElementType,\n  useSharedClassName\n} from '../../lib';\n\nimport { Loader } from '../Loader';\n\nimport { ItemContentProps } from './ItemContent.types';\n\nimport ItemHeader from './ItemHeader';\nimport ItemMeta from './ItemMeta';\nimport ItemText from './ItemText';\n\n\n/* --------\n * Component Declare\n * -------- */\ntype ItemContentComponent = CreatableFunctionComponent<ItemContentProps> & {\n  Header: typeof ItemHeader;\n  Meta: typeof ItemMeta;\n  Text: typeof ItemText;\n};\n\n/* --------\n * Component Render\n * -------- */\nconst ItemContent: ItemContentComponent = (props) => {\n\n  const {\n    className,\n    rest: {\n      children,\n      content,\n      header,\n      loading,\n      meta,\n      ...rest\n    }\n  } = useSharedClassName(props);\n\n  /** Get the component element type */\n  const ElementType = useElementType(ItemContent, props);\n\n  /** Build the element class list */\n  const classes = clsx(\n    'content',\n    className\n  );\n\n  const hasChildren = !childrenUtils.isNil(children);\n\n\n  // ----\n  // Define Component Memoized Element\n  // ----\n  const loaderElement = React.useMemo(\n    () => loading && Loader.create(typeof loading !== 'boolean'\n      ? loading\n      : { type: 'indeterminate bar' }, {\n      autoGenerateKey: false,\n      defaultProps   : {\n        primary: true,\n        size   : 'big',\n        type   : 'indeterminate bar'\n      },\n      overrideProps  : {\n        active: true\n      }\n    }),\n    [ loading ]\n  );\n\n  const headerElement = React.useMemo(\n    () => !hasChildren && ItemHeader.create(header, {\n      autoGenerateKey: false\n    }),\n    [ hasChildren, header ]\n  );\n\n  const textOrLoaderElement = React.useMemo(\n    () => {\n      if (hasChildren) {\n        return null;\n      }\n\n      if (loading) {\n        return loaderElement;\n      }\n\n      return ItemText.create(content, {\n        autoGenerateKey: false\n      });\n    },\n    [ hasChildren, content, loading, loaderElement ]\n  );\n\n  const metaElement = React.useMemo(\n    () => !hasChildren && !loading && ItemMeta.create(meta, {\n      autoGenerateKey: false\n    }),\n    [ hasChildren, meta, loading ]\n  );\n\n\n  // ----\n  // Component render with declared children\n  // ----\n  if (hasChildren) {\n    return (\n      <ElementType {...rest} className={classes}>\n        {children}\n      </ElementType>\n    );\n  }\n\n\n  // ----\n  // Component render with shorthand\n  // ----\n  return (\n    <ElementType {...rest} className={classes}>\n      {headerElement}\n      {textOrLoaderElement}\n      {metaElement}\n    </ElementType>\n  );\n};\n\nItemContent.displayName = 'ItemContent';\n\nItemContent.Header = ItemHeader;\nItemContent.Text = ItemText;\nItemContent.Meta = ItemMeta;\n\nItemContent.create = createShorthandFactory(ItemContent, (content) => ({ content }));\n\nexport default ItemContent;\n"],"names":["useSharedClassName","useElementType","clsx","childrenUtils","React.useMemo","React.createElement","createShorthandFactory"],"mappings":";;;;;;;;;;;;;;;;;AAiCA;;;IAGM,WAAW,GAAyB,UAAC,KAAK;IAE9C,IAAM,KAUFA,6BAAkB,CAAC,KAAK,CAAC,EAT3B,SAAS,eAAA,EACT,YAOC,EANC,QAAQ,cAAA,EACR,OAAO,aAAA,EACP,MAAM,YAAA,EACN,OAAO,aAAA,EACP,IAAI,UAAA,EACD,IAAI,qBANH,oDAOL,CAC0B,CAAC;;IAG9B,IAAM,WAAW,GAAGC,yBAAc,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;;IAGvD,IAAM,OAAO,GAAGC,wBAAI,CAClB,SAAS,EACT,SAAS,CACV,CAAC;IAEF,IAAM,WAAW,GAAG,CAACC,yBAAa,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;;;;IAMnD,IAAM,aAAa,GAAGC,aAAa,CACjC,cAAM,OAAA,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,OAAO,OAAO,KAAK,SAAS;UACvD,OAAO;UACP,EAAE,IAAI,EAAE,mBAAmB,EAAE,EAAE;QACjC,eAAe,EAAE,KAAK;QACtB,YAAY,EAAK;YACf,OAAO,EAAE,IAAI;YACb,IAAI,EAAK,KAAK;YACd,IAAI,EAAK,mBAAmB;SAC7B;QACD,aAAa,EAAI;YACf,MAAM,EAAE,IAAI;SACb;KACF,CAAC,GAAA,EACF,CAAE,OAAO,CAAE,CACZ,CAAC;IAEF,IAAM,aAAa,GAAGA,aAAa,CACjC,cAAM,OAAA,CAAC,WAAW,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,EAAE;QAC9C,eAAe,EAAE,KAAK;KACvB,CAAC,GAAA,EACF,CAAE,WAAW,EAAE,MAAM,CAAE,CACxB,CAAC;IAEF,IAAM,mBAAmB,GAAGA,aAAa,CACvC;QACE,IAAI,WAAW,EAAE;YACf,OAAO,IAAI,CAAC;SACb;QAED,IAAI,OAAO,EAAE;YACX,OAAO,aAAa,CAAC;SACtB;QAED,OAAO,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE;YAC9B,eAAe,EAAE,KAAK;SACvB,CAAC,CAAC;KACJ,EACD,CAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,aAAa,CAAE,CACjD,CAAC;IAEF,IAAM,WAAW,GAAGA,aAAa,CAC/B,cAAM,OAAA,CAAC,WAAW,IAAI,CAAC,OAAO,IAAI,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE;QACtD,eAAe,EAAE,KAAK;KACvB,CAAC,GAAA,EACF,CAAE,WAAW,EAAE,IAAI,EAAE,OAAO,CAAE,CAC/B,CAAC;;;;IAMF,IAAI,WAAW,EAAE;QACf,QACEC,oBAAC,WAAW,sBAAK,IAAI,IAAE,SAAS,EAAE,OAAO,KACtC,QAAQ,CACG,EACd;KACH;;;;IAMD,QACEA,oBAAC,WAAW,sBAAK,IAAI,IAAE,SAAS,EAAE,OAAO;QACtC,aAAa;QACb,mBAAmB;QACnB,WAAW,CACA,EACd;AACJ,EAAE;AAEF,WAAW,CAAC,WAAW,GAAG,aAAa,CAAC;AAExC,WAAW,CAAC,MAAM,GAAG,UAAU,CAAC;AAChC,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC;AAC5B,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC;AAE5B,WAAW,CAAC,MAAM,GAAGC,kCAAsB,CAAC,WAAW,EAAE,UAAC,OAAO,IAAK,QAAC,EAAE,OAAO,SAAA,EAAE,IAAC,CAAC;;;;"}