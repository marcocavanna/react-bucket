{"version":3,"file":"Item.js","sources":["../../../../src/react/elements/Item/Item.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  createShorthandFactory,\n  childrenUtils\n} from '@appbuckets/react-ui-core';\n\nimport { CreatableFunctionComponent } from '../../generic';\n\nimport {\n  useElementType,\n  useSharedClassName,\n  useSplitStateClassName\n} from '../../lib';\n\nimport { Avatar } from '../Avatar';\n\nimport { ItemProps } from './Item.types';\n\nimport ItemContent from './ItemContent';\nimport ItemGroup from './ItemGroup';\nimport ItemTools from './ItemTools';\n\n\n/* --------\n * Component Declare\n * -------- */\ntype ItemComponent = CreatableFunctionComponent<ItemProps> & {\n  Avatar: typeof Avatar;\n  Content: typeof ItemContent;\n  Group: typeof ItemGroup;\n  Tools: typeof ItemTools;\n};\n\n/* --------\n * Component Render\n * -------- */\nconst Item: ItemComponent = (props) => {\n\n  const {\n    className,\n    rest: {\n      active,\n      avatar,\n      centered,\n      children,\n      content,\n      disabled,\n      header,\n      loading,\n      meta,\n      onClick,\n      tools,\n      ...rawRest\n    }\n  } = useSharedClassName(props);\n\n  /** Get the component element type */\n  const ElementType = useElementType(Item, props);\n\n  /** Split state className from rest props */\n  const [ stateClasses, rest ] = useSplitStateClassName(rawRest);\n\n  /** Build the element class list */\n  const classes = clsx(\n    {\n      active,\n      disabled,\n      centered,\n      clickable: onClick,\n      loading\n    },\n    'item',\n    stateClasses,\n    className\n  );\n\n  const hasChildren = !childrenUtils.isNil(children);\n\n  /** Define Click Handler */\n  const handleClick = (e: React.MouseEvent<HTMLElement>) => {\n    /** Avoid click when disabled */\n    if (disabled) {\n      return;\n    }\n\n    /** Call user defined handler */\n    if (onClick) {\n      onClick(e, props);\n    }\n  };\n\n\n  // ----\n  // Define Component Memoized Element\n  // ----\n  const avatarElement = React.useMemo(\n    () => !hasChildren && Avatar.create(avatar, {\n      autoGenerateKey: false,\n      defaultProps   : {\n        disabled,\n        success   : props.success,\n        danger    : props.danger,\n        appearance: props.appearance,\n        warning   : props.warning,\n        primary   : props.primary\n      }\n    }),\n    [\n      hasChildren,\n      avatar,\n      disabled,\n      props.success,\n      props.danger,\n      props.appearance,\n      props.warning,\n      props.primary\n    ]\n  );\n\n  const contentElement = React.useMemo(\n    () => !hasChildren && (loading || header || content || meta) && ItemContent.create({\n      header,\n      content,\n      meta,\n      loading\n    }, {\n      autoGenerateKey: false\n    }),\n    [ hasChildren, loading, header, content, meta ]\n  );\n\n  const toolsElement = React.useMemo(\n    () => !hasChildren && ItemTools.create(tools, {\n      autoGenerateKey: false,\n      defaultProps   : {\n        disabled\n      }\n    }),\n    [ disabled, hasChildren, tools ]\n  );\n\n  // ----\n  // Component render with declared children\n  // ----\n  if (hasChildren) {\n    return (\n      <ElementType {...rest} onClick={handleClick} className={classes}>\n        {children}\n      </ElementType>\n    );\n  }\n\n\n  // ----\n  // Component render with shorthand\n  // ----\n  return (\n    <ElementType {...rest} onClick={handleClick} className={classes}>\n      {avatarElement}\n      {contentElement}\n      {toolsElement}\n    </ElementType>\n  );\n};\n\nItem.displayName = 'Item';\n\nItem.Avatar = Avatar;\nItem.Content = ItemContent;\nItem.Tools = ItemTools;\nItem.Group = ItemGroup;\n\nItem.create = createShorthandFactory(Item, (content) => ({ content }));\n\nexport default Item;\n"],"names":["useSharedClassName","useElementType","useSplitStateClassName","clsx","childrenUtils","React.useMemo","React.createElement","createShorthandFactory"],"mappings":"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"}