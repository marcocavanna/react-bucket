{"version":3,"file":"Table.js","sources":["../../../../src/react/collections/Table/Table.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  childrenUtils\n} from '@appbuckets/react-ui-core';\n\nimport {\n  ShorthandCollection\n} from '../../generic';\n\nimport {\n  useElementType\n} from '../../lib';\n\nimport { TableProps } from './Table.types';\nimport { TableCellProps } from './TableCell.types';\n\nimport TableBody from './TableBody';\nimport TableCell from './TableCell';\nimport TableFooter from './TableFooter';\nimport TableHeader from './TableHeader';\nimport TableHeaderCell from './TableHeaderCell';\nimport TableRow from './TableRow';\n\n\n/* --------\n * Component Declare\n * -------- */\ntype TableComponent = React.FunctionComponent<TableProps> & {\n  Body: typeof TableBody;\n  Cell: typeof TableCell;\n  Footer: typeof TableFooter;\n  Header: typeof TableHeader;\n  HeaderCell: typeof TableHeaderCell;\n  Row: typeof TableRow;\n};\n\n\n/* --------\n * Component Render\n * -------- */\nconst Table: TableComponent = <Data extends any = any>(props: React.PropsWithChildren<TableProps<Data>>) => {\n\n  const {\n    as,\n    children,\n    className,\n    compressed,\n    content,\n    responsive,\n    rows,\n    sortable,\n    tableData,\n    ...rest\n  } = props;\n\n  // @ts-ignore\n  const ElementType = useElementType<TableProps<Data>>(Table, props);\n\n  const classes = clsx(\n    {\n      compressed,\n      sortable\n    },\n    'table',\n    className\n  );\n\n\n  // ----\n  // Build Table Header\n  // ----\n  const headerRows = rows?.header && (\n    rows.header.map((row) => (\n      TableRow.create(row, { autoGenerateKey: true, defaultProps: { cellAs: TableHeaderCell } })\n    ))\n  );\n\n\n  // ----\n  // Build Table Footer\n  // ----\n  const footerRows = rows?.footer && (\n    rows.footer.map((row) => (\n      TableRow.create(row, { autoGenerateKey: true, defaultProps: { cellAs: TableCell } })\n    ))\n  );\n\n\n  if (!childrenUtils.isNil(children)) {\n    const tableElementWithChildren = (\n      <ElementType {...rest} className={classes}>\n        {!!headerRows && <TableHeader content={headerRows} />}\n        {children}\n        {!!footerRows && <TableFooter content={footerRows} />}\n      </ElementType>\n    );\n\n    return responsive\n      ? <div className={'responsive-table'}>{tableElementWithChildren}</div>\n      : tableElementWithChildren;\n  }\n\n\n  // ----\n  // Build Table Body\n  // ----\n  const bodyRows = rows?.body && Array.isArray(tableData) && (\n    typeof rows.body === 'function'\n      ? tableData.map((data, index, array) => (\n        TableRow.create(\n          (rows.body as ((data: Data, index: number, array: Data[]) => ShorthandCollection<TableCellProps>)\n          )(data, index, array), { autoGenerateKey: true, defaultProps: { cellAs: TableCell } }\n        )\n      ))\n      : rows.body.map((row) => (\n        TableRow.create(row, { autoGenerateKey: true, defaultProps: { cellAs: TableCell } })\n      ))\n  );\n\n  const tableElement = (\n    <ElementType {...rest} className={classes}>\n      {!!headerRows && <TableHeader content={headerRows} />}\n      {!!bodyRows && <TableBody content={bodyRows} />}\n      {!!footerRows && <TableFooter content={footerRows} />}\n    </ElementType>\n  );\n\n  return responsive\n    ? <div className={'responsive-table'}>{tableElement}</div>\n    : tableElement;\n\n};\n\nTable.displayName = 'Table';\n\nTable.Body = TableBody;\nTable.Cell = TableCell;\nTable.Footer = TableFooter;\nTable.Header = TableHeader;\nTable.HeaderCell = TableHeaderCell;\nTable.Row = TableRow;\n\nTable.defaultProps = {\n  as: 'table'\n};\n\nexport default Table;\n"],"names":["useElementType","clsx","childrenUtils","React.createElement"],"mappings":"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"}